name: "ðŸ§ª Testing & QA"
team_settings:
  features:
    enable_host_users: true
    enable_software_inventory: true
  host_expiry_settings:
    host_expiry_enabled: false
    host_expiry_window: 0
  secrets:
    - secret: $DOGFOOD_TESTING_AND_QA_ENROLL_SECRET
agent_options:
  config:
    decorators:
      load:
        - SELECT uuid AS host_uuid FROM system_info;
        - SELECT hostname AS hostname FROM system_info;
    options:
      disable_distributed: false
      distributed_interval: 10
      distributed_plugin: tls
      distributed_tls_max_attempts: 3
      logger_tls_endpoint: /api/osquery/log
      logger_tls_period: 10
      pack_delimiter: /
  update_channels:
    osqueryd: edge
    orbit: edge
    desktop: edge
controls:
  enable_disk_encryption: true
  scripts:
    # macOS scripts
    - path: ../lib/macos/scripts/uninstall-fleetd-macos.sh
    # Windows scripts
    - path: ../lib/windows/scripts/uninstall-fleetd-windows.ps1
    # Linux scripts
    - path: ../lib/linux/scripts/uninstall-fleetd-linux.sh
    - path: ../lib/linux/scripts/install-fleet-desktop-required-extension.sh
policies:
  # macOS policies
  - path: ../lib/macos/policies/enrollment-profile-up-to-date.yml
  # Linux policies
  - path: ../lib/linux/policies/check-fleet-desktop-extension-enabled.yml
queries:
software:
  packages:
    # Linux apps
    - path: ../lib/linux/software/zoom-deb.yml # Zoom for Ubuntu
      self_service: true
      categories:
        - Communication
      labels_include_any:
        - "Debian-based Linux hosts"
    - path: ../lib/linux/software/zoom-rpm.yml # Zoom for RHEL
      self_service: true
      categories:
        - Communication
      labels_include_any:
        - "RPM-based Linux hosts"
    - path: ../lib/linux/software/slack-deb.yml # Zoom for Ubuntu
      self_service: true
      categories:
        - Productivity
        - Communication
      labels_include_any:
        - "Debian-based Linux hosts"
    - path: ../lib/linux/software/slack-rpm.yml # Zoom for RHEL
      self_service: true
      categories:
        - Productivity
        - Communication
      labels_include_any:
        - "RPM-based Linux hosts"
  fleet_maintained_apps:
    # macOS apps
    - slug: santa/darwin # Santa for macOS
      self_service: true
    - slug: vnc-viewer/darwin # VNC Viewer for macOS
      self_service: true
    - slug: beyond-compare/darwin # Beyond Compare for macOS
      self_service: true
    - slug: iterm2/darwin # iTerm2 for macOS
      self_service: true
