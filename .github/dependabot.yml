# Basic set up for Actions and Docker. Security updates enabled via GitHub settings for other ecosystems.

version: 2
updates:

# Maintain dependencies for GitHub Actions
  - package-ecosystem: "github-actions"
    directory: "/"
    schedule:
      interval: "daily"
    pull-request-branch-name:
      # Default is "/" which makes "docker tag" fail with
      # "not a valid repository/tag: invalid reference format".
      separator: "-"
    # Add assignees
    assignees:
      - "zwass"

# Maintain dependencies for Dockerfiles
  - package-ecosystem: "docker"
    directory: "/"
    schedule:
      interval: "daily"
    reviewers:
      - "@fleetdm/go"
      - "@fleetdm/infra"
    pull-request-branch-name:
      # Default is "/" which makes "docker tag" fail with
      # "not a valid repository/tag: invalid reference format".
      separator: "-"
    # Add assignees
    assignees:
      - "@fleetdm/go"
      - "@fleetdm/infra"

# Maintain dependencies for website NPM
  - package-ecosystem: "npm"
    directory: "/website"
    labels:
      - "website"
    schedule:
      interval: "daily"
    reviewers:
      - "@eashaw"
    pull-request-branch-name:
      # Default is "/" which makes "docker tag" fail with
      # "not a valid repository/tag: invalid reference format".
      separator: "-"

# Maintain dependencies for Go
  - package-ecosystem: "gomod"
    directory: "/"
    schedule:
      interval: "daily"
    reviewers:
      - "fleetdm/go"
    pull-request-branch-name:
      # Default is "/" which makes "docker tag" fail with
      # "not a valid repository/tag: invalid reference format".
      separator: "-"
    # Add assignees
    assignees:
      - "fleetdm/go"
      - lucasmrod

# Maintain dependencies for npm
  - package-ecosystem: "npm"
    directory: "/"
    schedule:
      interval: "daily"
    reviewers:
      - "fleetdm/frontend"
    pull-request-branch-name:
      # Default is "/" which makes "docker tag" fail with
      # "not a valid repository/tag: invalid reference format".
      separator: "-"
    # Add assignees
    assignees:
      - "fleetdm/frontend"
      - lukeheath