<div id="pricing" v-cloak>
  <div purpose="page-content" class="container-fluid mx-auto">
    <div class="px-0 d-flex flex-column justify-content-center pt-5 mx-auto">
      <div purpose="hero-text">
        <h2 class="text-center mb-5">
          Compare plans and pricing
        </h2>
      </div>
      <div purpose="pricing-tiers" class="d-flex flex-column flex-lg-row justify-content-center">
        <%// Fleet Free tier card %>
        <div purpose="free-tier-card" class="card d-flex flex-column">
          <div purpose="pricing-tier-title">
            <div class="d-flex flex-row justify-content-center">
              <div class="d-flex flex-column justify-content-center">
                <h2>Free</h2>
                <h3>Unlimited hosts</h3>
                <div class="d-flex flex-row align-items-center">
                  <h1><span purpose="price-dollar-sign">$</span>0</h1><strong>/ host <br purpose="premium-price-linebreak">/ month</strong>
                </div>
              </div>
            </div>
          </div>
          <a purpose="card-button" class="btn btn-block btn-lg btn-primary mx-auto" target="_blank" href="https://github.com/fleetdm/fleet">View source code</a>
        </div>
        <%// Fleet Premium tier card %>
        <div purpose="premium-card" class="d-flex flex-column justify-content-center">
          <div purpose="premium-tier-card" class="card d-flex h-100 flex-column">
            <div purpose="pricing-tier-title">
              <div class="d-flex flex-column justify-content-between">
                <div class="d-flex flex-column justify-content-center">
                  <h2>Premium</h2>
                  <h3>Unlimited baselines</h3>
                  <div class="d-flex flex-row align-items-center justify-content-center">
                    <h4>From </h4><h1 class="mb-2"><span purpose="price-dollar-sign">$</span>7.00</h1><strong>/ host <br purpose="premium-price-linebreak">/ month</strong>
                  </div>
                </div>
              </div>
            </div>
            <div>
              <a purpose="card-button" class="btn btn-block btn-lg btn-primary mx-auto mb-0" href="/customers/register">Get started</a>
              <p purpose="contact-sales-link">Have a large deployment? <a href="/contact">Talk to us</a>.</p>
            </div>
          </div>
        </div>
      </div>
      <div purpose="pricing-switch" class="d-flex flex-md-row flex-column justify-content-center mx-auto">
        <div purpose="pricing-switch-option" class="all" :class="[pricingMode === 'all' ? 'selected' : '']" @click="clickChangePricingMode('all')">All features</div>
        <div purpose="pricing-switch-option" class="security" :class="[pricingMode === 'Security' ? 'selected' : '']" @click="clickChangePricingMode('Security')">For security engineers</div>
        <div purpose="pricing-switch-option" class="it" :class="[pricingMode === 'IT' ? 'selected' : '']" @click="clickChangePricingMode('IT')">For IT admins</div>
        <div purpose="pricing-tier-switch" :class="pricingMode+'-selected'"></div>
      </div>
    </div>
    <%// All features %>
    <div purpose="features-table" class="d-flex flex-column justify-content-center mx-auto px-0 " :class="[[pricingMode === 'all' ? 'show' : 'hide']]">
      <div class="d-flex flex-column justify-content-center p-0">
        <%// Desktop features tables %>
        <div class="d-none d-md-block">
          <% for(let category of pricingTable) {%>
            <table purpose="pricing-categories-table" class="table">
             <thead>
                <tr>
                  <td><h4><%- category.categoryName %></h4></td>
                  <%if(pricingTable.indexOf(category) === 0) {%>
                  <td class="text-center">
                    <strong>Free</strong>
                  </td>
                  <%}else {%>
                  <td ></td>
                  <%}%>
                  <%if(pricingTable.indexOf(category) === 0) {%>
                  <td class="text-center">
                    <strong>Premium</strong>
                  </td>
                  <%}else {%>
                  <td ></td>
                  <%}%>
                </tr>
              </thead>
              <tbody>
                <% for( let feature of category.features){ %>
                  <tr>
                    <%if(feature.description && feature.documentationUrl) {%>
                    <td purpose="feature-name"><%- feature.name %><%- feature.comingSoon ? '*' : '' %><a href="<%- feature.documentationUrl %>" target="_blank"><img class="d-inline has-link" purpose="tooltip-icon" src="/images/icon-more-info-14x14@2x.png" alt="More info" data-toggle="tooltip" tabindex="0" data-placement="top" data-html="true" title="<p><%= feature.description +'</p>'+ [feature.documentationUrl ? '<u>Click to learn more</u>' : ''] %> "></a></td>
                    <% } else if(feature.description) {%>
                      <td purpose="feature-name"><%- feature.name %><%- feature.comingSoon ? '*' : '' %><img class="d-inline" purpose="tooltip-icon" src="/images/icon-more-info-14x14@2x.png" alt="More info" data-toggle="tooltip" tabindex="0" data-placement="top" data-html="true" title="<%= feature.description %> "></td>
                    <% } else {%>
                      <td purpose="feature-name"><%- feature.name %><%- feature.comingSoon ? '*' : '' %></td>
                    <% } %>
                    <%if(feature.tier === 'Free') {%>
                      <td purpose="table-checkmark"><img class="mx-auto" alt="checkmark" purpose="checkmark" src="/images/icon-checkmark-green-16x16@2x.png"></td>
                    <%} else {%>
                      <td purpose="table-checkmark"></td>
                    <%}%>
                    <td purpose="table-checkmark"><img class="mx-auto" alt="checkmark" purpose="checkmark" src="/images/icon-checkmark-green-16x16@2x.png"></td>
                  </tr>
                <% }%>
              </tbody>
            </table>
          <% }%>
          <p style="color: #515774;" class="mb-0 w-100">* Coming soon</p>
        </div>
        <%// Mobile features tables %>
        <% for(let category of pricingTable) {%>
          <div purpose="mobile-feature-table-section" class="d-block d-md-none">
            <h4><%- category.categoryName %></h4>
            <% for( let feature of category.features){ %>
              <div purpose="mobile-features-table" class="d-flex flex-column">
                <div purpose="striped-row" class="d-flex flex-row justify-content-between align-items-center" @click="">
                  <strong><%- feature.name %><%- feature.comingSoon ? '*' : '' %>
                  <%if(feature.description && feature.documentationUrl) {%>
                    <img class="d-inline-flex has-link" purpose="tooltip-icon" src="/images/icon-more-info-14x14@2x.png" alt="More info" data-toggle="mobile-tooltip" tabindex="0" data-placement="top" data-html="true" title="<p><%= feature.description +'</p><a purpose="tooltip-link" target="_blank" href="'+feature.documentationUrl+'">Learn more</a>'%>"  @click="clickToggleMobileTooltip($event.target)">
                  <% }else if(feature.description){ %>
                    <img class="d-inline" purpose="tooltip-icon" src="/images/icon-more-info-14x14@2x.png" alt="More info" data-toggle="mobile-tooltip" tabindex="0" data-placement="top" data-html="true" title="<p><%= feature.description %></p>"  @click="clickToggleMobileTooltip($event.target)">
                  <% }%>
                  </strong>
                </div>
                <div class="d-flex flex-row justify-content-between align-items-center">
                  Free
                <%if(feature.tier === 'Free') {%>
                  <img class="d-block" alt="checkmark" purpose="checkmark" src="/images/icon-checkmark-green-16x16@2x.png">
                <% } %>
                </div>
                <div purpose="striped-row" class="d-flex flex-row justify-content-between align-items-center">
                  Premium
                  <img class="d-block" alt="checkmark" purpose="checkmark" src="/images/icon-checkmark-green-16x16@2x.png">
                </div>
              </div>
            <% }%>
          </div>
        <% }%>
          <p style="color: #515774;" class="d-block d-md-none mb-0 w-100">* Coming soon</p>
      </div>
    </div>
    <%// Filtered features %>
    <div purpose="features-table" class="d-flex flex-column justify-content-center mx-auto px-0" :class="[[pricingMode === 'IT' ? 'show' : 'hide']]">
      <div class="d-flex flex-column justify-content-center p-0">
        <%// Desktop features tables %>
        <div class="d-none d-md-block">
          <% for(let category of pricingTableForIt) {%>
            <table purpose="pricing-categories-table" class="table">
             <thead>
                <tr>
                  <td><h4><%- category.categoryName %></h4></td>
                  <%if(pricingTable.indexOf(category) === 0) {%>
                  <td class="text-center">
                    <strong>Free</strong>
                  </td>
                  <%}else {%>
                  <td ></td>
                  <%}%>
                  <%if(pricingTable.indexOf(category) === 0) {%>
                  <td class="text-center">
                    <strong>Premium</strong>
                  </td>
                  <%}else {%>
                  <td ></td>
                  <%}%>
                </tr>
              </thead>
              <tbody>
                <% for( let feature of category.features){ %>
                  <tr>
                    <%if(feature.description && feature.documentationUrl) {%>
                    <td purpose="feature-name"><%- feature.name %><%- feature.comingSoon ? '*' : '' %><a href="<%- feature.documentationUrl %>" target="_blank"><img class="d-inline has-link" purpose="tooltip-icon" src="/images/icon-more-info-14x14@2x.png" alt="More info" data-toggle="tooltip" tabindex="0" data-placement="top" data-html="true" title="<p><%= feature.description +'</p>'+ [feature.documentationUrl ? '<u>Click to learn more</u>' : ''] %> "></a></td>
                    <% } else if(feature.description) {%>
                      <td purpose="feature-name"><%- feature.name %><%- feature.comingSoon ? '*' : '' %><img class="d-inline" purpose="tooltip-icon" src="/images/icon-more-info-14x14@2x.png" alt="More info" data-toggle="tooltip" tabindex="0" data-placement="top" data-html="true" title="<%= feature.description %> "></td>
                    <% } else {%>
                      <td purpose="feature-name"><%- feature.name %><%- feature.comingSoon ? '*' : '' %></td>
                    <% } %>
                    <%if(feature.tier === 'Free') {%>
                      <td purpose="table-checkmark"><img class="mx-auto" alt="checkmark" purpose="checkmark" src="/images/icon-checkmark-green-16x16@2x.png"></td>
                    <%} else {%>
                      <td purpose="table-checkmark"></td>
                    <%}%>
                    <td purpose="table-checkmark"><img class="mx-auto" alt="checkmark" purpose="checkmark" src="/images/icon-checkmark-green-16x16@2x.png"></td>
                  </tr>
                <% }%>
              </tbody>
            </table>
          <% }%>
          <p style="color: #515774;" class="mb-0 w-100">* Coming soon</p>
        </div>
        <%// Mobile features tables %>
        <% for(let category of pricingTableForIt) {%>
          <div purpose="mobile-feature-table-section" class="d-block d-md-none">
            <h4><%- category.categoryName %></h4>
            <% for( let feature of category.features){ %>
              <div purpose="mobile-features-table" class="d-flex flex-column">
                <div purpose="striped-row" class="d-flex flex-row justify-content-between align-items-center" @click="">
                  <strong><%- feature.name %><%- feature.comingSoon ? '*' : '' %>
                  <%if(feature.description && feature.documentationUrl) {%>
                    <img class="d-inline has-link" purpose="tooltip-icon" src="/images/icon-more-info-14x14@2x.png" alt="More info" data-toggle="mobile-tooltip" tabindex="0" data-placement="top" data-html="true" title="<p><%= feature.description +'</p><a purpose="tooltip-link" target="_blank" href="'+feature.documentationUrl+'">Learn more</a>'%>"  @click="clickToggleMobileTooltip($event.target)">
                  <% }else if(feature.description){ %>
                    <img class="d-inline" purpose="tooltip-icon" src="/images/icon-more-info-14x14@2x.png" alt="More info" data-toggle="mobile-tooltip" tabindex="0" data-placement="top" data-html="true" title="<p><%= feature.description %></p>"  @click="clickToggleMobileTooltip($event.target)">
                  <% }%>
                  </strong>
                </div>
                <div class="d-flex flex-row justify-content-between align-items-center">
                  Free
                <%if(feature.tier === 'Free') {%>
                  <img class="d-block" alt="checkmark" purpose="checkmark" src="/images/icon-checkmark-green-16x16@2x.png">
                <% } %>
                </div>
                <div purpose="striped-row" class="d-flex flex-row justify-content-between align-items-center">
                  Premium
                  <img class="d-block" alt="checkmark" purpose="checkmark" src="/images/icon-checkmark-green-16x16@2x.png">
                </div>
              </div>
            <% }%>
          </div>
        <% }%>
          <p style="color: #515774;" class="d-block d-md-none mb-0 w-100">* Coming soon</p>
      </div>
    </div>
    <div purpose="features-table" class="d-flex flex-column justify-content-center mx-auto px-0" :class="[[pricingMode === 'Security' ? 'show' : 'hide']]">
      <div class="d-flex flex-column justify-content-center p-0">
        <%// Desktop features tables %>
        <div class="d-none d-md-block">
          <% for(let category of pricingTableForSecurity) {%>
            <table purpose="pricing-categories-table" class="table">
             <thead>
                <tr>
                  <td><h4><%- category.categoryName %></h4></td>
                  <%if(pricingTable.indexOf(category) === 0) {%>
                  <td class="text-center">
                    <strong>Free</strong>
                  </td>
                  <%}else {%>
                  <td ></td>
                  <%}%>
                  <%if(pricingTable.indexOf(category) === 0) {%>
                  <td class="text-center">
                    <strong>Premium</strong>
                  </td>
                  <%}else {%>
                  <td ></td>
                  <%}%>
                </tr>
              </thead>
              <tbody>
                <% for( let feature of category.features){ %>
                  <tr>
                    <%if(feature.description && feature.documentationUrl) {%>
                    <td purpose="feature-name"><%- feature.name %><%- feature.comingSoon ? '*' : '' %><a href="<%- feature.documentationUrl %>" target="_blank"><img class="d-inline has-link" purpose="tooltip-icon" src="/images/icon-more-info-14x14@2x.png" alt="More info" data-toggle="tooltip" tabindex="0" data-placement="top" data-html="true" title="<p><%= feature.description +'</p>'+ [feature.documentationUrl ? '<u>Click to learn more</u>' : ''] %> "></a></td>
                    <% } else if(feature.description) {%>
                      <td purpose="feature-name"><%- feature.name %><%- feature.comingSoon ? '*' : '' %><img class="d-inline" purpose="tooltip-icon" src="/images/icon-more-info-14x14@2x.png" alt="More info" data-toggle="tooltip" tabindex="0" data-placement="top" data-html="true" title="<%= feature.description %> "></td>
                    <% } else {%>
                      <td purpose="feature-name"><%- feature.name %><%- feature.comingSoon ? '*' : '' %></td>
                    <% } %>
                    <%if(feature.tier === 'Free') {%>
                      <td purpose="table-checkmark"><img class="mx-auto" alt="checkmark" purpose="checkmark" src="/images/icon-checkmark-green-16x16@2x.png"></td>
                    <%} else {%>
                      <td purpose="table-checkmark"></td>
                    <%}%>
                    <td purpose="table-checkmark"><img class="mx-auto" alt="checkmark" purpose="checkmark" src="/images/icon-checkmark-green-16x16@2x.png"></td>
                  </tr>
                <% }%>
              </tbody>
            </table>
          <% }%>
          <p style="color: #515774;" class="mb-0 w-100">* Coming soon</p>
        </div>
        <%// Mobile features tables %>
        <% for(let category of pricingTableForSecurity) {%>
          <div purpose="mobile-feature-table-section" class="d-block d-md-none">
            <h4><%- category.categoryName %></h4>
            <% for( let feature of category.features){ %>
              <div purpose="mobile-features-table" class="d-flex flex-column">
                <div purpose="striped-row" class="d-flex flex-row justify-content-between align-items-center" @click="">
                  <strong><%- feature.name %><%- feature.comingSoon ? '*' : '' %>
                  <%if(feature.description && feature.documentationUrl) {%>
                    <img class="d-inline has-link" purpose="tooltip-icon" src="/images/icon-more-info-14x14@2x.png" alt="More info" data-toggle="mobile-tooltip" tabindex="0" data-placement="top" data-html="true" title="<p><%= feature.description +'</p><a purpose="tooltip-link" target="_blank" href="'+feature.documentationUrl+'">Learn more</a>'%>"  @click="clickToggleMobileTooltip($event.target)">
                  <% }else if(feature.description){ %>
                    <img class="d-inline" purpose="tooltip-icon" src="/images/icon-more-info-14x14@2x.png" alt="More info" data-toggle="mobile-tooltip" tabindex="0" data-placement="top" data-html="true" title="<p><%= feature.description %></p>"  @click="clickToggleMobileTooltip($event.target)">
                  <% }%>
                  </strong>
                </div>
                <div class="d-flex flex-row justify-content-between align-items-center">
                  Free
                <%if(feature.tier === 'Free') {%>
                  <img class="d-block" alt="checkmark" purpose="checkmark" src="/images/icon-checkmark-green-16x16@2x.png">
                <% } %>
                </div>
                <div purpose="striped-row" class="d-flex flex-row justify-content-between align-items-center">
                  Premium
                  <img class="d-block" alt="checkmark" purpose="checkmark" src="/images/icon-checkmark-green-16x16@2x.png">
                </div>
              </div>
            <% }%>
          </div>
        <% }%>
          <p style="color: #515774;" class="d-block d-md-none mb-0 w-100">* Coming soon</p>
      </div>
    </div>
    <%// Bottom call to action %>
    <div purpose="bottom-cta" class="d-block mx-auto">
      <h2 class="text-center">Questions?</h2>
      <p class="text-center">We have answers to the most <a href="https://fleetdm.com/docs/get-started/faq">commonly asked questions</a>.</p>
      <div class="d-flex flex-column flex-sm-row flex-nowrap btn-toolbar justify-content-center" style="text-align: center" >
        <a purpose="chat-button" style="max-width: 160px" class="mx-auto justify-self-center btn btn-block btn-md btn-primary my-3 mx-sm-2" href="/contact">
          Talk to us
        </a>
        <a style="max-width: 250px" class="btn btn-block btn-lg btn-white my-3 mx-sm-2 mx-auto" purpose="cta-button" href="/docs">
          Read the docs
        </a>
      </div>
    </div>
  </div>
</div>
<%- /* Expose locals as `window.SAILS_LOCALS` :: */ exposeLocalsToBrowser() %>
